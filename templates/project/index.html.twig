{% extends 'base.html.twig' %}

{% block title %}Liste des projets - {{ parent() }}{% endblock %}

{% block header_title %}Projets{% endblock %}

{% block content %}
<div id="projects-container">
    {% for project in projects %}
        <article class="card-project">
            <a href="{{ path('project_detail', {'id': project.id }) }}">
                <h2>{{ project.title }}</h2>
            </a>
            <div class="card-project-icons">
                <a href="{{ path('edit_project', {'id': project.id}) }}"><i class="fa-solid fa-pen"></i></a>
                
                <a href="#" onclick="document.getElementById('delete-form-{{ project.id }}').submit();"><i class="fa-solid fa-trash"></i></a>

                <form id="delete-form-{{ project.id }}" method="post" action="{{ path('delete_project', {id: project.id}) }}" style="display: none;">
                    <input type="hidden" name="_method" value="POST">
                </form>
            </div>
        </article>
    {% endfor %}

    <article class="card-project">
        <a href="{{ path('add_project') }}">
            <i class="fa-solid fa-circle-plus add-project-icon"></i>
            <h2>Ajouter un projet</h2>
        </a>
    </article>
</div>
{% endblock %}
